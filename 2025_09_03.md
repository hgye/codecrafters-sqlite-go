- [[btree]]  leaf index page cell format
- 好的！以下是对
  
  `0d 03 1b 03 6d 79 61 6e 6d 61 72 36 a2 4c`
  
  的结构用ASCII图表示：
  
  ```
  <TEXT>
  
  +------------------------------------------------------------------------------+
  
  |                                  Cell Payload (13 bytes)                     |
  
  +------------------------------------------------------------------------------+
  
  | 0d | 03 | 1b | 03 | 6d 79 61 6e 6d 61 72 | 36 a2 4c                          |
  
  |    |    |    |    |                      |                                   |
  
  |    |    |    |    |                      |                                   |
  
  |    |    |    |    |                      |                                   |
  
  |    |    |    |    |                      |                                   |
  
  |    |    |    |    |                      |                                   |
  
  +----+----+----+----+----------------------+-------------------------------+
  
  |    |    |    |    |                      |                                   |
  
  |    |    |    |    |                      |                                   |
  
  |    |    |    |    |                      |                                   |
  
  |    |    |    |    |                      |                                   |
  
  |    |    |    |    |                      |                                   |
  
  |    |    |    |    |                      |                                   |
  
  +----+----+----+----+----------------------+-------------------------------+
  
  | ^  | ^  | ^  | ^  |        ^             |         ^                          |
  
  | |  | |  | |  | |  |        |             |         |                          |
  
  | |  | |  | |  | |  |        |             |         |                          |
  
  | |  | |  | |  | |  |        |             |         |                          |
  
  | |  | |  | |  | |  |        |             |         |                          |
  
  | |  | |  | |  | |  |        |             |         |                          |
  
  | |  | |  | |  | |  |        |             |         |                          |
  
  | |  | |  | |  | |  |        |             |         |                          |
  
  | |  | |  | |  | |  |        |             |         |                          |
  
  | |  | |  | |  | |  |        |             |         |                          |
  
  +----+----+----+----+----------------------+-------------------------------+
  
  |    |    |    |    |                      |                                   |
  
  |Len |HLen|Typ1|Typ2|      字符串内容      |       RowID/主键                  |
  
  |    |    |    |    |    ("myanmar")       |      (sqlite varint编码值)         |
  
  |0d  |03  |1b  |03  |  6d  79  61 ... 72  |      36 a2 4c                     |
  
  +----+----+----+----+----------------------+-------------------------------+
  
  |<-----Header区域---->|<-----------Body(字段内容)--------------------------->|
  
  说明：
  
  - 0d           : Payload长度（13字节，总cell内容的长度）
  
  - 03           : Header长度（header区长度，3字节）
  
  - 1b           : SerialType，一类字段内容（字符串，长度为7，"myanmar"）
  
  - 03           : SerialType，另一字段内容（1字节整数，rowid/主键）
  
  - 6d79616e6d6172 : 字符串内容 "myanmar"
  
  - 36 a2 4c      : rowid/主键（sqlite varint编码）
  ```
  
  如果想要更紧凑，下面这种横向说明也很直观：
  
  ```
  <TEXT>
  
  +--------+--------+--------+--------+-------------------------+-------------+
  
  | 0d     | 03     | 1b     | 03     | 6d 79 61 6e 6d 61 72   | 36 a2 4c    |
  
  +--------+--------+--------+--------+-------------------------+-------------+
  
  | Payload|Header  |Serial  |Serial  |    字符串"myanmar"      | rowid/主键  |
  
  | Length |Length  |Type:   |Type:   |                         |（varint码） |
  
  | (13)   |  (3)   | String | RowID  |                         |             |
  
  +--------+--------+--------+--------+-------------------------+-------------+
  ```
- [[btree]] interior index page cell
  
  非常好的问题！我们来详细剖析 SQLite B-tree **Interior Index Page** 中的 Cell 的结构（并特别关注 payload 部分的分解）。
  
  ---
- ## 原始数据
  
  ```
  <TEXT>
  
  00 00 07 3b 0d 03 1b 03 6d 79 61 6e 6d 61 72 14 56 eb
  ```
  
  结构分块如下：
  
  | 字节序列 | 含义 |
  | ---- | ---- | ---- |
  | 00 00 07 3b | Page number (left child) |
  | 0d | Payload size (13 bytes) |
  | 03 1b 03 | Header区 (header length + serial types) |
  | 6d 79 61 6e 6d 61 72 | "myanmar"（字符串内容） |
  | 14 56 eb | rowid (varint编码) |
  
  ---
- ## 结构分布图
  
  ```
  <TEXT>
  
  +-------------------+----------+--------------+--------------------+-----------+
  
  | 00 00 07 3b       | 0d       | 03 1b 03     | 6d .. 72           | 14 56 eb  |
  
  +-------------------+----------+--------------+--------------------+-----------+
  
  | 左子节点页号      |Payload长 |Header区      | 'myanmar'          | rowid     |
  
  | (4字节)           |(1字节)   |(3字节)       |(7字节)             |(3字节)    |
  
  +-------------------+----------+--------------+--------------------+-----------+
  ```